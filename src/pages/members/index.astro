---
import Layout from "@/layouts/Layout.astro";
import LazyMembersSection from "@/components/members/LazyMembersSection.astro";
import DirectiveMembers from "@/components/members/DirectiveMembers.astro";
import ExtendedDirectiveMembers from "@/components/members/ExtendedDirectiveMembers.astro";
import FreeMembersMembers from "@/components/members/FreeMembersMembers.astro";
import TutorandosMembers from "@/components/members/TutorandosMembers.astro";

// Ya no necesitamos hacer las consultas aquí, cada componente maneja sus propios datos
---
<Layout class="z-100" title="Página de Miembros de la DAI">
    <div class="flex flex-col text-white gap-10 min-h-screen pt-6 max-w-[1500px] mx-auto">
        <section title="Directiva" class="p-6 mt-26 text-center">
            <h1 class="text-5xl font-bold mb-6">Directiva</h1>
            <LazyMembersSection skeletonCount={4} sectionId="directive">
                <DirectiveMembers />
            </LazyMembersSection>
        </section>

        <!-- Sección Directiva Extendida con Server Island -->
        <section title="Directiva Extendida" class="p-6 text-center">
            <h1 class="text-5xl font-bold mb-6">Directiva Extendida</h1>
            <LazyMembersSection skeletonCount={5} sectionId="extended-directive">
                <ExtendedDirectiveMembers />
            </LazyMembersSection>
        </section>

        <!-- Sección Miembros Libres con Server Island -->
        <section title="Miembros Libres" class="p-6 text-center">
            <h1 class="text-5xl font-bold mb-6">Miembros Libres</h1>
            <LazyMembersSection skeletonCount={8} sectionId="free-members">
                <FreeMembersMembers />
            </LazyMembersSection>
        </section>

        <!-- Sección Tutorandos con Server Island -->
        <section title="Tutorandos" class="p-6 text-center">
            <h1 class="text-5xl font-bold mb-6">Tutorandos</h1>
            <LazyMembersSection skeletonCount={12} sectionId="tutorandos">
                <TutorandosMembers />
            </LazyMembersSection>
        </section>
        
    </div>
</Layout>
